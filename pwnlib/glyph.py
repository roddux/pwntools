#!/usr/bin/env python3
# -*- coding: utf-8 -*-
r"""
Utilities for generating strings for use in homoglyph attacks.

Single-character
--------------------------
    To get a list of homoglyphs for a character, invoke :func:list_alternates
    on the character.

        >>> list_alternates("a")[:4]
        ['U+120042', 'U+120250', 'U+120458', 'U+119886']


Multi-character / strings
--------------------------
    To get a list of alternate strings, with each character replaced by an
    alternate glyph, call :func:alternates_for_string on the string.

        >>> alternates_for_string("abc")[1:4]
        ['ùñ∫bc', 'ùöäbc', 'ùëébc']

"""
from sys import argv, exit as sysexit
from string import printable
from unicodedata import normalize

__all__ = ['alternate_glyphs', 'unicode_forms', 'list_alternates',
           'alternates_for_string']

# unicode normalization forms
unicode_forms = ("NFC", "NFD", "NFKC", "NFKD")

# builtin list of glyphs that canonicalize to characters in string.printable
alternate_glyphs = {
    ' ': [   'U+8195',
             'U+8197',
             'U+8202',
             'U+8239',
             'U+8200',
             'U+8193',
             'U+8201',
             'U+8194',
             'U+8192',
             'U+8196',
             'U+8198',
             'U+12288',
             'U+8287',
             'U+8199',
             'U+160'],
    '!': ['U+65045', 'U+65281', 'U+65111'],
    '"': ['U+65282'],
    '#': ['U+65283', 'U+65119'],
    '$': ['U+65129', 'U+65284'],
    '%': ['U+65285', 'U+65130'],
    '&': ['U+65120', 'U+65286'],
    "'": ['U+65287'],
    '(': ['U+65113', 'U+65077', 'U+8317', 'U+8333', 'U+65288'],
    ')': ['U+8318', 'U+8334', 'U+65078', 'U+65114', 'U+65289'],
    '*': ['U+65121', 'U+65290'],
    '+': ['U+8314', 'U+65291', 'U+65122', 'U+8330', 'U+64297'],
    ',': ['U+65104', 'U+65040', 'U+65292'],
    '-': ['U+65123', 'U+65293'],
    '.': ['U+8228', 'U+65294', 'U+65106'],
    '/': ['U+65295'],
    '0': [   'U+120822',
             'U+65296',
             'U+8304',
             'U+9450',
             'U+120792',
             'U+120782',
             'U+120812',
             'U+130032',
             'U+120802',
             'U+8320'],
    '1': [   'U+65297',
             'U+120783',
             'U+120813',
             'U+130033',
             'U+120793',
             'U+9312',
             'U+120803',
             'U+120823',
             'U+8321',
             'U+185'],
    '2': [   'U+120814',
             'U+65298',
             'U+8322',
             'U+120784',
             'U+130034',
             'U+120804',
             'U+120794',
             'U+120824',
             'U+9313',
             'U+178'],
    '3': [   'U+9314',
             'U+120815',
             'U+120805',
             'U+120825',
             'U+120785',
             'U+179',
             'U+8323',
             'U+130035',
             'U+120795',
             'U+65299'],
    '4': [   'U+9315',
             'U+130036',
             'U+120786',
             'U+120796',
             'U+120806',
             'U+120826',
             'U+8324',
             'U+120816',
             'U+65300',
             'U+8308'],
    '5': [   'U+9316',
             'U+120797',
             'U+120817',
             'U+8309',
             'U+120807',
             'U+8325',
             'U+120787',
             'U+120827',
             'U+65301',
             'U+130037'],
    '6': [   'U+8310',
             'U+120828',
             'U+120808',
             'U+120788',
             'U+130038',
             'U+9317',
             'U+65302',
             'U+120798',
             'U+8326',
             'U+120818'],
    '7': [   'U+120829',
             'U+65303',
             'U+120819',
             'U+9318',
             'U+120809',
             'U+120789',
             'U+8311',
             'U+130039',
             'U+8327',
             'U+120799'],
    '8': [   'U+120800',
             'U+65304',
             'U+120820',
             'U+120810',
             'U+120830',
             'U+130040',
             'U+120790',
             'U+9319',
             'U+8312',
             'U+8328'],
    '9': [   'U+120791',
             'U+8329',
             'U+9320',
             'U+130041',
             'U+120801',
             'U+120831',
             'U+120811',
             'U+65305',
             'U+8313',
             'U+120821'],
    ':': ['U+65306', 'U+65043', 'U+65109'],
    ';': ['U+894', 'U+65044', 'U+65108', 'U+65307'],
    '<': ['U+65124', 'U+65308'],
    '=': ['U+65309', 'U+65126', 'U+8332', 'U+8316'],
    '>': ['U+65125', 'U+65310'],
    '?': ['U+65311', 'U+65046', 'U+65110'],
    '@': ['U+65131', 'U+65312'],
    'A': [   'U+7468',
             'U+120432',
             'U+120120',
             'U+120172',
             'U+120276',
             'U+119860',
             'U+119912',
             'U+127280',
             'U+120224',
             'U+65313',
             'U+120328',
             'U+120068',
             'U+120380',
             'U+120016',
             'U+119964',
             'U+9398',
             'U+119808'],
    'B': [   'U+8492',
             'U+120121',
             'U+120381',
             'U+120433',
             'U+119809',
             'U+119861',
             'U+119913',
             'U+9399',
             'U+65314',
             'U+120173',
             'U+7470',
             'U+120069',
             'U+120329',
             'U+120017',
             'U+120225',
             'U+120277',
             'U+127281'],
    'C': [   'U+120018',
             'U+127282',
             'U+119914',
             'U+8450',
             'U+120226',
             'U+8493',
             'U+120330',
             'U+119810',
             'U+120382',
             'U+9400',
             'U+120434',
             'U+127275',
             'U+120278',
             'U+120174',
             'U+8557',
             'U+119966',
             'U+119862',
             'U+65315'],
    'D': [   'U+119863',
             'U+120123',
             'U+7472',
             'U+119811',
             'U+120071',
             'U+120383',
             'U+127283',
             'U+65316',
             'U+8517',
             'U+8558',
             'U+120279',
             'U+119967',
             'U+120435',
             'U+120227',
             'U+120175',
             'U+9401',
             'U+119915',
             'U+120331',
             'U+120019'],
    'E': [   'U+120228',
             'U+65317',
             'U+120384',
             'U+120436',
             'U+120124',
             'U+119916',
             'U+120072',
             'U+120280',
             'U+127284',
             'U+119812',
             'U+9402',
             'U+120176',
             'U+120020',
             'U+7473',
             'U+120332',
             'U+119864',
             'U+8496'],
    'F': [   'U+9403',
             'U+120125',
             'U+120281',
             'U+120177',
             'U+120073',
             'U+120333',
             'U+120437',
             'U+8497',
             'U+120021',
             'U+119917',
             'U+120385',
             'U+65318',
             'U+120229',
             'U+119813',
             'U+119865',
             'U+127285'],
    'G': [   'U+120178',
             'U+119814',
             'U+119970',
             'U+9404',
             'U+7475',
             'U+120074',
             'U+120282',
             'U+119866',
             'U+120022',
             'U+120334',
             'U+120438',
             'U+120230',
             'U+65319',
             'U+119918',
             'U+120386',
             'U+120126',
             'U+127286'],
    'H': [   'U+8461',
             'U+119919',
             'U+8460',
             'U+120023',
             'U+127287',
             'U+119867',
             'U+7476',
             'U+119815',
             'U+120439',
             'U+9405',
             'U+120283',
             'U+8459',
             'U+65320',
             'U+120179',
             'U+120231',
             'U+120335',
             'U+120387'],
    'I': [   'U+8544',
             'U+9406',
             'U+119816',
             'U+7477',
             'U+120128',
             'U+120440',
             'U+120232',
             'U+120024',
             'U+119868',
             'U+65321',
             'U+119920',
             'U+120284',
             'U+8465',
             'U+120388',
             'U+120180',
             'U+120336',
             'U+127288',
             'U+8464'],
    'J': [   'U+120285',
             'U+120389',
             'U+120337',
             'U+65322',
             'U+119973',
             'U+127289',
             'U+120077',
             'U+120233',
             'U+119817',
             'U+119869',
             'U+120441',
             'U+7478',
             'U+119921',
             'U+9407',
             'U+120181',
             'U+120025',
             'U+120129'],
    'K': [   'U+120442',
             'U+8490',
             'U+120078',
             'U+120234',
             'U+120390',
             'U+119974',
             'U+7479',
             'U+119818',
             'U+65323',
             'U+120182',
             'U+120026',
             'U+120130',
             'U+120338',
             'U+120286',
             'U+119870',
             'U+127290',
             'U+119922',
             'U+9408'],
    'L': [   'U+120391',
             'U+120131',
             'U+119923',
             'U+120183',
             'U+120287',
             'U+120443',
             'U+65324',
             'U+8466',
             'U+120027',
             'U+120079',
             'U+7480',
             'U+127291',
             'U+120235',
             'U+119871',
             'U+9409',
             'U+119819',
             'U+8556',
             'U+120339'],
    'M': [   'U+120028',
             'U+119872',
             'U+120340',
             'U+127292',
             'U+120236',
             'U+65325',
             'U+8499',
             'U+120184',
             'U+7481',
             'U+119820',
             'U+119924',
             'U+120132',
             'U+8559',
             'U+120392',
             'U+120080',
             'U+120288',
             'U+120444',
             'U+9410'],
    'N': [   'U+8469',
             'U+120185',
             'U+120029',
             'U+120289',
             'U+119925',
             'U+119873',
             'U+120393',
             'U+9411',
             'U+7482',
             'U+119977',
             'U+120341',
             'U+65326',
             'U+127293',
             'U+120445',
             'U+120237',
             'U+120081',
             'U+119821'],
    'O': [   'U+120446',
             'U+119874',
             'U+9412',
             'U+120030',
             'U+120342',
             'U+119926',
             'U+120394',
             'U+119822',
             'U+7484',
             'U+127294',
             'U+120238',
             'U+120082',
             'U+120290',
             'U+119978',
             'U+65327',
             'U+120134',
             'U+120186'],
    'P': [   'U+119979',
             'U+120083',
             'U+8473',
             'U+65328',
             'U+9413',
             'U+119927',
             'U+120395',
             'U+7486',
             'U+120187',
             'U+120447',
             'U+120291',
             'U+119875',
             'U+120343',
             'U+127295',
             'U+119823',
             'U+120239',
             'U+120031'],
    'Q': [   'U+120084',
             'U+120188',
             'U+120344',
             'U+120292',
             'U+120396',
             'U+119980',
             'U+120448',
             'U+127296',
             'U+9414',
             'U+120032',
             'U+120240',
             'U+65329',
             'U+119928',
             'U+8474',
             'U+119876',
             'U+119824'],
    'R': [   'U+120449',
             'U+119929',
             'U+120397',
             'U+127276',
             'U+7487',
             'U+8477',
             'U+120345',
             'U+120189',
             'U+65330',
             'U+119825',
             'U+9415',
             'U+119877',
             'U+127297',
             'U+120033',
             'U+8476',
             'U+8475',
             'U+120241',
             'U+120293'],
    'S': [   'U+119982',
             'U+9416',
             'U+120138',
             'U+65331',
             'U+120450',
             'U+119878',
             'U+120034',
             'U+120086',
             'U+120294',
             'U+120398',
             'U+120346',
             'U+120242',
             'U+119930',
             'U+127298',
             'U+119826',
             'U+120190'],
    'T': [   'U+120087',
             'U+9417',
             'U+119827',
             'U+120295',
             'U+119983',
             'U+120035',
             'U+120139',
             'U+127299',
             'U+120347',
             'U+120191',
             'U+7488',
             'U+120399',
             'U+120243',
             'U+120451',
             'U+65332',
             'U+119879',
             'U+119931'],
    'U': [   'U+65333',
             'U+120348',
             'U+120400',
             'U+7489',
             'U+119984',
             'U+120192',
             'U+120296',
             'U+119828',
             'U+127300',
             'U+119932',
             'U+120244',
             'U+120140',
             'U+120452',
             'U+9418',
             'U+119880',
             'U+120036',
             'U+120088'],
    'V': [   'U+119933',
             'U+120037',
             'U+120141',
             'U+120245',
             'U+127301',
             'U+120453',
             'U+11389',
             'U+120349',
             'U+120401',
             'U+120193',
             'U+8548',
             'U+119985',
             'U+119829',
             'U+65334',
             'U+120297',
             'U+120089',
             'U+119881',
             'U+9419'],
    'W': [   'U+127302',
             'U+120194',
             'U+120350',
             'U+119986',
             'U+65335',
             'U+119934',
             'U+120038',
             'U+120090',
             'U+120454',
             'U+120298',
             'U+120142',
             'U+120246',
             'U+120402',
             'U+9420',
             'U+119830',
             'U+119882',
             'U+7490'],
    'X': [   'U+120299',
             'U+120247',
             'U+119831',
             'U+120195',
             'U+120351',
             'U+8553',
             'U+65336',
             'U+119987',
             'U+120039',
             'U+9421',
             'U+120403',
             'U+120091',
             'U+120143',
             'U+120455',
             'U+119883',
             'U+119935',
             'U+127303'],
    'Y': [   'U+119936',
             'U+120040',
             'U+119832',
             'U+120144',
             'U+120456',
             'U+65337',
             'U+120404',
             'U+120300',
             'U+120352',
             'U+120248',
             'U+127304',
             'U+9422',
             'U+120196',
             'U+120092',
             'U+119988',
             'U+119884'],
    'Z': [   'U+119885',
             'U+120405',
             'U+120197',
             'U+119989',
             'U+120457',
             'U+119937',
             'U+119833',
             'U+8488',
             'U+9423',
             'U+120353',
             'U+8484',
             'U+120041',
             'U+127305',
             'U+120301',
             'U+120249',
             'U+65338'],
    '[': ['U+65339', 'U+65095'],
    '\\': ['U+65128', 'U+65340'],
    ']': ['U+65096', 'U+65341'],
    '^': ['U+65342'],
    '_': ['U+65076', 'U+65103', 'U+65343', 'U+65102', 'U+65075', 'U+65101'],
    '`': ['U+8175', 'U+65344'],
    'a': [   'U+120042',
             'U+120250',
             'U+120458',
             'U+119886',
             'U+120146',
             'U+119938',
             'U+120094',
             'U+119834',
             'U+119990',
             'U+120406',
             'U+120198',
             'U+9424',
             'U+170',
             'U+7491',
             'U+65345',
             'U+120302',
             'U+8336',
             'U+120354'],
    'b': [   'U+120199',
             'U+120459',
             'U+65346',
             'U+120303',
             'U+119887',
             'U+119939',
             'U+120147',
             'U+119835',
             'U+120251',
             'U+120407',
             'U+120043',
             'U+7495',
             'U+120095',
             'U+119991',
             'U+9425',
             'U+120355'],
    'c': [   'U+8573',
             'U+119888',
             'U+120148',
             'U+120304',
             'U+120200',
             'U+119992',
             'U+7580',
             'U+65347',
             'U+120044',
             'U+120356',
             'U+120460',
             'U+119940',
             'U+120096',
             'U+119836',
             'U+9426',
             'U+120252',
             'U+120408'],
    'd': [   'U+65348',
             'U+120201',
             'U+120461',
             'U+8518',
             'U+119889',
             'U+120149',
             'U+119837',
             'U+119941',
             'U+8574',
             'U+120097',
             'U+120045',
             'U+7496',
             'U+119993',
             'U+120357',
             'U+120305',
             'U+120253',
             'U+120409',
             'U+9427'],
    'e': [   'U+120254',
             'U+8495',
             'U+65349',
             'U+119942',
             'U+120098',
             'U+8519',
             'U+120046',
             'U+119890',
             'U+8337',
             'U+120150',
             'U+120306',
             'U+120202',
             'U+120358',
             'U+9428',
             'U+7497',
             'U+120410',
             'U+120462',
             'U+119838'],
    'f': [   'U+120047',
             'U+7584',
             'U+120151',
             'U+120255',
             'U+120359',
             'U+119839',
             'U+119891',
             'U+119995',
             'U+120307',
             'U+120411',
             'U+9429',
             'U+119943',
             'U+65350',
             'U+120099',
             'U+120203',
             'U+120463'],
    'g': [   'U+119840',
             'U+120308',
             'U+119892',
             'U+65351',
             'U+120360',
             'U+120048',
             'U+119944',
             'U+120256',
             'U+120100',
             'U+120412',
             'U+9430',
             'U+120464',
             'U+120204',
             'U+7501',
             'U+120152',
             'U+8458'],
    'h': [   'U+9431',
             'U+65352',
             'U+119945',
             'U+688',
             'U+120205',
             'U+120257',
             'U+120413',
             'U+119841',
             'U+120361',
             'U+120101',
             'U+119997',
             'U+120309',
             'U+8341',
             'U+120153',
             'U+120049',
             'U+8462',
             'U+120465'],
    'i': [   'U+120414',
             'U+8520',
             'U+120154',
             'U+119998',
             'U+8560',
             'U+120050',
             'U+119946',
             'U+120310',
             'U+9432',
             'U+65353',
             'U+8505',
             'U+119894',
             'U+7522',
             'U+120362',
             'U+120466',
             'U+120206',
             'U+8305',
             'U+119842',
             'U+120102',
             'U+120258'],
    'j': [   'U+119947',
             'U+119999',
             'U+120311',
             'U+9433',
             'U+120259',
             'U+690',
             'U+120415',
             'U+120207',
             'U+11388',
             'U+119843',
             'U+120051',
             'U+65354',
             'U+120103',
             'U+120155',
             'U+120467',
             'U+119895',
             'U+120363',
             'U+8521'],
    'k': [   'U+120000',
             'U+120156',
             'U+120260',
             'U+120468',
             'U+119844',
             'U+120364',
             'U+9434',
             'U+120052',
             'U+120312',
             'U+120416',
             'U+119948',
             'U+120104',
             'U+120208',
             'U+65355',
             'U+8342',
             'U+119896',
             'U+7503'],
    'l': [   'U+737',
             'U+65356',
             'U+8467',
             'U+120469',
             'U+120157',
             'U+120365',
             'U+119845',
             'U+120105',
             'U+120053',
             'U+8572',
             'U+119949',
             'U+119897',
             'U+120001',
             'U+120261',
             'U+8343',
             'U+120417',
             'U+9435',
             'U+120209',
             'U+120313'],
    'm': [   'U+120158',
             'U+120210',
             'U+120366',
             'U+120262',
             'U+120314',
             'U+8344',
             'U+120418',
             'U+120470',
             'U+119846',
             'U+119898',
             'U+65357',
             'U+9436',
             'U+120002',
             'U+120054',
             'U+8575',
             'U+7504',
             'U+119950',
             'U+120106'],
    'n': [   'U+120003',
             'U+120315',
             'U+120471',
             'U+9437',
             'U+120055',
             'U+119899',
             'U+65358',
             'U+120263',
             'U+119847',
             'U+119951',
             'U+8319',
             'U+120159',
             'U+120419',
             'U+120107',
             'U+8345',
             'U+120211',
             'U+120367'],
    'o': [   'U+8338',
             'U+8500',
             'U+7506',
             'U+120420',
             'U+9438',
             'U+119900',
             'U+120264',
             'U+186',
             'U+120056',
             'U+120160',
             'U+120212',
             'U+120316',
             'U+120472',
             'U+120108',
             'U+119848',
             'U+119952',
             'U+120368',
             'U+65359'],
    'p': [   'U+119901',
             'U+119953',
             'U+119849',
             'U+7510',
             'U+120005',
             'U+120057',
             'U+120109',
             'U+120213',
             'U+120317',
             'U+65360',
             'U+9439',
             'U+120161',
             'U+120265',
             'U+120369',
             'U+120473',
             'U+120421',
             'U+8346'],
    'q': [   'U+119850',
             'U+120370',
             'U+120058',
             'U+120474',
             'U+119902',
             'U+120214',
             'U+120162',
             'U+120110',
             'U+120006',
             'U+65361',
             'U+120318',
             'U+120422',
             'U+120266',
             'U+119954',
             'U+9440'],
    'r': [   'U+120059',
             'U+120007',
             'U+120215',
             'U+691',
             'U+119955',
             'U+120163',
             'U+120423',
             'U+65362',
             'U+120111',
             'U+120475',
             'U+9441',
             'U+119903',
             'U+119851',
             'U+7523',
             'U+120371',
             'U+120267',
             'U+120319'],
    's': [   'U+119956',
             'U+65363',
             'U+120424',
             'U+119852',
             'U+738',
             'U+120164',
             'U+120372',
             'U+120476',
             'U+9442',
             'U+120216',
             'U+120320',
             'U+119904',
             'U+8347',
             'U+120112',
             'U+120268',
             'U+120060',
             'U+120008',
             'U+383'],
    't': [   'U+8348',
             'U+120009',
             'U+120217',
             'U+120477',
             'U+119905',
             'U+120113',
             'U+120165',
             'U+9443',
             'U+7511',
             'U+120061',
             'U+120425',
             'U+120321',
             'U+120269',
             'U+119957',
             'U+119853',
             'U+120373',
             'U+65364'],
    'u': [   'U+120114',
             'U+120062',
             'U+120270',
             'U+120166',
             'U+7512',
             'U+120478',
             'U+119958',
             'U+65365',
             'U+120010',
             'U+120322',
             'U+119906',
             'U+120218',
             'U+7524',
             'U+120374',
             'U+9444',
             'U+120426',
             'U+119854'],
    'v': [   'U+120271',
             'U+65366',
             'U+120323',
             'U+120375',
             'U+120479',
             'U+120167',
             'U+9445',
             'U+119907',
             'U+120427',
             'U+7515',
             'U+120011',
             'U+120115',
             'U+119855',
             'U+120219',
             'U+119959',
             'U+120063',
             'U+8564',
             'U+7525'],
    'w': [   'U+119856',
             'U+120220',
             'U+120116',
             'U+120480',
             'U+9446',
             'U+120064',
             'U+65367',
             'U+119908',
             'U+120376',
             'U+120428',
             'U+695',
             'U+120272',
             'U+120168',
             'U+119960',
             'U+120012',
             'U+120324'],
    'x': [   'U+8339',
             'U+119857',
             'U+9447',
             'U+120273',
             'U+120169',
             'U+8569',
             'U+120117',
             'U+120481',
             'U+119909',
             'U+65368',
             'U+119961',
             'U+120325',
             'U+120377',
             'U+120065',
             'U+120429',
             'U+120221',
             'U+120013',
             'U+739'],
    'y': [   'U+9448',
             'U+120014',
             'U+120118',
             'U+120222',
             'U+120430',
             'U+120482',
             'U+119962',
             'U+120066',
             'U+120326',
             'U+119910',
             'U+696',
             'U+120378',
             'U+120170',
             'U+119858',
             'U+65369',
             'U+120274'],
    'z': [   'U+120327',
             'U+120483',
             'U+119911',
             'U+119859',
             'U+120171',
             'U+120223',
             'U+120275',
             'U+120119',
             'U+65370',
             'U+9449',
             'U+120431',
             'U+7611',
             'U+120067',
             'U+120379',
             'U+119963',
             'U+120015'],
    '{': ['U+65115', 'U+65371', 'U+65079'],
    '|': ['U+65372'],
    '}': ['U+65373', 'U+65080', 'U+65116'],
    '~': ['U+65374']
}


def _compute_alternate_glyphs(form: str = "NFKD") -> dict:
    """Compute all alternate glyphs and return a dictionary, with keys for
    all characters in string.printable

    You probably don't need to use this! Just access glyph.alternate_glyphs
    directly instead.

    >>> data = _compute_alternate_glyphs()
    >>> data["a"][:4]
    ['U+120042', 'U+120250', 'U+120458', 'U+119886']"""

    if form not in unicode_forms:
        raise Exception("Invalid normalization form")

    data = {}
    for character in printable:
        data[character] = list_alternates(character, form=form)
    return data
    # from pprint import pprint
    # pprint(data, indent=4)


def list_alternates(character: str, form: str = "NFKD") -> list:
    """Return a list of unicode points that canonicalize to the supplied
    character in NFKD form.

    >>> list_alternates("a")[:4]
    ['U+120042', 'U+120250', 'U+120458', 'U+119886']
    """

    # use the builtin (NFKD)
    if character in alternate_glyphs and form == "NFKD":
        return alternate_glyphs[character]

    if form not in unicode_forms:
        raise Exception("Invalid normalization form")

    glyphs = []
    for potential in range(0x110000):  # all valid code points
        alternate_glyph = normalize(form, chr(potential))
        if alternate_glyph == character:
            if chr(potential) != character:  # skip the input character
                glyphs.append(f"U+{potential}")
    return glyphs


def alternates_for_string(input_string: str) -> list:
    """Returns a list of strings, where each string has a character changed to
    an alternate glyph that will canonicalize to the same character.

    >>> alternates_for_string("abc")[1:4]
    ['ùñ∫bc', 'ùöäbc', 'ùëébc']
    """

    # get a list of alternate glyphs for each character in our input string
    alt_glyphs = []
    for character in input_string:
        alt_glyphs.append(list_alternates(character))

    # build a list of strings with characters replaced with alts
    alt_string_list = []
    for idx in range(len(input_string)):
        for glyph in alt_glyphs[idx]:
            converted = chr(int(glyph[2:]))  # "U+1234" -> chr(1234)
            new_str = f"{input_string[:idx]}{converted}{input_string[idx+1:]}"
            alt_string_list.append(new_str)
    return alt_string_list


if __name__ == "__main__":
    if len(argv) == 2:
        for alt in alternates_for_string(argv[1]):
            print(alt)
    else:
        print(f"Usage: {argv[0]} <string>")
        sysexit(1)
